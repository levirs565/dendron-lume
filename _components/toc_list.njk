{% comp "tree_list" %}
    {% for item in items %}
        {% set args %}
            data-toc-item data-toc-id="{{item.slug}}"
        {% endset %}

        {% comp "tree_item", 
            li_args=args, 
            href=["#", item.slug] | join, 
            title=item.text %}
            {% if item.children | length > 0 %}
                {{ comp.toc_list({ items: item.children}) | safe }} 
            {% endif %}
        {% endcomp %} 
    {% endfor %}
{% endcomp %}